{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/alvinneri/Desktop/Projects/PMS Mobile/property-management-mobile/employee-app/navigation/drawers/index.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from \"react\";\nimport { createDrawerNavigator, DrawerContentScrollView, DrawerItemList, DrawerItem } from \"@react-navigation/drawer\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport Icon from \"@expo/vector-icons/Entypo\";\nimport MaterialIcon from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport Toast from \"react-native-toast-message\";\nimport HomeStack from \"../stack/home\";\nimport ScannerStack from \"../stack/scanner\";\nimport HistoryStack from \"../stack/history\";\nimport MaintenanceStack from \"../stack/maintenance\";\nimport { setLoading, setUser } from \"../../redux/public/actions\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nvar DrawerNav = createDrawerNavigator();\n\nvar CustomDrawerContent = function CustomDrawerContent(props) {\n  var dispatch = useDispatch();\n  var navigation = useNavigation();\n\n  var logout = function logout() {\n    return _regeneratorRuntime.async(function logout$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            dispatch(setLoading(true));\n            _context.prev = 1;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(AsyncStorage.removeItem(\"@user\"));\n\n          case 4:\n            dispatch(setUser(null));\n            dispatch(setLoading(false));\n            Toast.show({\n              position: \"bottom\",\n              text1: \"Successfully logout.\"\n            });\n            navigation.navigate(\"Auth\");\n            _context.next = 13;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](1);\n            console.log(_context.t0);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 10]], Promise);\n  };\n\n  return React.createElement(DrawerContentScrollView, _extends({}, props, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }), React.createElement(DrawerItemList, _extends({}, props, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  })), React.createElement(DrawerItem, {\n    label: \"Log Out\",\n    onPress: logout,\n    icon: function icon(_ref) {\n      var focused = _ref.focused,\n          color = _ref.color,\n          _ref$size = _ref.size,\n          size = _ref$size === void 0 ? 25 : _ref$size;\n      return React.createElement(MaterialIcon, {\n        name: \"logout\",\n        size: 25,\n        style: {\n          paddingLeft: 20\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default (function (_ref2) {\n  var navigation = _ref2.navigation;\n\n  var _useSelector = useSelector(function (state) {\n    return state.public;\n  }),\n      user = _useSelector.user;\n\n  console.log(user);\n  return React.createElement(DrawerNav.Navigator, {\n    initialRouteName: \"Home\",\n    drawerContent: function drawerContent(props) {\n      return React.createElement(CustomDrawerContent, _extends({}, props, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 33\n        }\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, React.createElement(DrawerNav.Screen, {\n    name: \"Home\",\n    component: HomeStack,\n    options: {\n      title: \"Home\",\n      drawerIcon: function drawerIcon(_ref3) {\n        var focused = _ref3.focused,\n            size = _ref3.size;\n        return React.createElement(Icon, {\n          name: \"home\",\n          size: 25,\n          style: {\n            paddingLeft: 20\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }\n        });\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }), (user == null ? void 0 : user.accessModules.includes(\"SECURITY\")) && React.createElement(DrawerNav.Screen, {\n    name: \"Scanner\",\n    component: ScannerStack,\n    options: {\n      title: \"Scanner\",\n      drawerIcon: function drawerIcon(_ref4) {\n        var focused = _ref4.focused,\n            size = _ref4.size;\n        return React.createElement(MaterialIcon, {\n          name: \"magnify-scan\",\n          size: 25,\n          style: {\n            paddingLeft: 20\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }\n        });\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }), (user == null ? void 0 : user.accessModules.includes(\"SECURITY\")) && React.createElement(DrawerNav.Screen, {\n    name: \"History\",\n    component: HistoryStack,\n    options: {\n      title: \"History\",\n      drawerIcon: function drawerIcon(_ref5) {\n        var focused = _ref5.focused,\n            size = _ref5.size;\n        return React.createElement(MaterialIcon, {\n          name: \"history\",\n          size: 25,\n          style: {\n            paddingLeft: 20\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }\n        });\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }), (user == null ? void 0 : user.accessModules.includes(\"MAINTENANCE\")) && React.createElement(DrawerNav.Screen, {\n    name: \"Maintenance\",\n    component: MaintenanceStack,\n    options: {\n      title: \"Maintenance\",\n      drawerIcon: function drawerIcon(_ref6) {\n        var focused = _ref6.focused,\n            size = _ref6.size;\n        return React.createElement(MaterialIcon, {\n          name: \"tools\",\n          size: 25,\n          style: {\n            paddingLeft: 20\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }\n        });\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }));\n});","map":{"version":3,"sources":["/Users/alvinneri/Desktop/Projects/PMS Mobile/property-management-mobile/employee-app/navigation/drawers/index.js"],"names":["React","createDrawerNavigator","DrawerContentScrollView","DrawerItemList","DrawerItem","useNavigation","Icon","MaterialIcon","Toast","HomeStack","ScannerStack","HistoryStack","MaintenanceStack","setLoading","setUser","useSelector","useDispatch","AsyncStorage","DrawerNav","CustomDrawerContent","props","dispatch","navigation","logout","removeItem","show","position","text1","navigate","console","log","focused","color","size","paddingLeft","state","public","user","title","drawerIcon","accessModules","includes"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,qBADF,EAEEC,uBAFF,EAGEC,cAHF,EAIEC,UAJF,QAKO,0BALP;AAMA,SAASC,aAAT,QAA8B,0BAA9B;AACA,OAAOC,IAAP;AACA,OAAOC,YAAP;AACA,OAAOC,KAAP,MAAkB,4BAAlB;AAEA,OAAOC,SAAP;AACA,OAAOC,YAAP;AACA,OAAOC,YAAP;AACA,OAAOC,gBAAP;AAEA,SAASC,UAAT,EAAqBC,OAArB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,YAAP,MAAyB,2CAAzB;AAEA,IAAMC,SAAS,GAAGjB,qBAAqB,EAAvC;;AAEA,IAAMkB,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,KAAD,EAAW;AACrC,MAAMC,QAAQ,GAAGL,WAAW,EAA5B;AACA,MAAMM,UAAU,GAAGjB,aAAa,EAAhC;;AAEA,MAAMkB,MAAM,GAAG,SAATA,MAAS;AAAA;AAAA;AAAA;AAAA;AACbF,YAAAA,QAAQ,CAACR,UAAU,CAAC,IAAD,CAAX,CAAR;AADa;AAAA;AAAA,6CAGLI,YAAY,CAACO,UAAb,CAAwB,OAAxB,CAHK;;AAAA;AAIXH,YAAAA,QAAQ,CAACP,OAAO,CAAC,IAAD,CAAR,CAAR;AACAO,YAAAA,QAAQ,CAACR,UAAU,CAAC,KAAD,CAAX,CAAR;AACAL,YAAAA,KAAK,CAACiB,IAAN,CAAW;AACTC,cAAAA,QAAQ,EAAE,QADD;AAETC,cAAAA,KAAK,EAAE;AAFE,aAAX;AAIAL,YAAAA,UAAU,CAACM,QAAX,CAAoB,MAApB;AAVW;AAAA;;AAAA;AAAA;AAAA;AAYXC,YAAAA,OAAO,CAACC,GAAR;;AAZW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAf;;AAgBA,SACE,oBAAC,uBAAD,eAA6BV,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MACE,oBAAC,cAAD,eAAoBA,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADF,EAEE,oBAAC,UAAD;AACE,IAAA,KAAK,EAAC,SADR;AAEE,IAAA,OAAO,EAAEG,MAFX;AAGE,IAAA,IAAI,EAAE;AAAA,UAAGQ,OAAH,QAAGA,OAAH;AAAA,UAAYC,KAAZ,QAAYA,KAAZ;AAAA,2BAAmBC,IAAnB;AAAA,UAAmBA,IAAnB,0BAA0B,EAA1B;AAAA,aACJ,oBAAC,YAAD;AAAc,QAAA,IAAI,EAAC,QAAnB;AAA4B,QAAA,IAAI,EAAE,EAAlC;AAAsC,QAAA,KAAK,EAAE;AAAEC,UAAAA,WAAW,EAAE;AAAf,SAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADI;AAAA,KAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF;AAYD,CAhCD;;AAkCA,gBAAe,iBAAoB;AAAA,MAAjBZ,UAAiB,SAAjBA,UAAiB;;AAAA,qBAChBP,WAAW,CAAC,UAACoB,KAAD;AAAA,WAAWA,KAAK,CAACC,MAAjB;AAAA,GAAD,CADK;AAAA,MACzBC,IADyB,gBACzBA,IADyB;;AAEjCR,EAAAA,OAAO,CAACC,GAAR,CAAYO,IAAZ;AAEA,SACE,oBAAC,SAAD,CAAW,SAAX;AACE,IAAA,gBAAgB,EAAC,MADnB;AAEE,IAAA,aAAa,EAAE,uBAACjB,KAAD;AAAA,aAAW,oBAAC,mBAAD,eAAyBA,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAX;AAAA,KAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE,oBAAC,SAAD,CAAW,MAAX;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,SAAS,EAAEX,SAFb;AAGE,IAAA,OAAO,EAAE;AACP6B,MAAAA,KAAK,EAAE,MADA;AAEPC,MAAAA,UAAU,EAAE;AAAA,YAAGR,OAAH,SAAGA,OAAH;AAAA,YAAYE,IAAZ,SAAYA,IAAZ;AAAA,eACV,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAC,MAAX;AAAkB,UAAA,IAAI,EAAE,EAAxB;AAA4B,UAAA,KAAK,EAAE;AAAEC,YAAAA,WAAW,EAAE;AAAf,WAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADU;AAAA;AAFL,KAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,EAcG,CAAAG,IAAI,QAAJ,YAAAA,IAAI,CAAEG,aAAN,CAAoBC,QAApB,CAA6B,UAA7B,MACC,oBAAC,SAAD,CAAW,MAAX;AACE,IAAA,IAAI,EAAC,SADP;AAEE,IAAA,SAAS,EAAE/B,YAFb;AAGE,IAAA,OAAO,EAAE;AACP4B,MAAAA,KAAK,EAAE,SADA;AAEPC,MAAAA,UAAU,EAAE;AAAA,YAAGR,OAAH,SAAGA,OAAH;AAAA,YAAYE,IAAZ,SAAYA,IAAZ;AAAA,eACV,oBAAC,YAAD;AACE,UAAA,IAAI,EAAC,cADP;AAEE,UAAA,IAAI,EAAE,EAFR;AAGE,UAAA,KAAK,EAAE;AAAEC,YAAAA,WAAW,EAAE;AAAf,WAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADU;AAAA;AAFL,KAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAfJ,EA8BG,CAAAG,IAAI,QAAJ,YAAAA,IAAI,CAAEG,aAAN,CAAoBC,QAApB,CAA6B,UAA7B,MACC,oBAAC,SAAD,CAAW,MAAX;AACE,IAAA,IAAI,EAAC,SADP;AAEE,IAAA,SAAS,EAAE9B,YAFb;AAGE,IAAA,OAAO,EAAE;AACP2B,MAAAA,KAAK,EAAE,SADA;AAEPC,MAAAA,UAAU,EAAE;AAAA,YAAGR,OAAH,SAAGA,OAAH;AAAA,YAAYE,IAAZ,SAAYA,IAAZ;AAAA,eACV,oBAAC,YAAD;AACE,UAAA,IAAI,EAAC,SADP;AAEE,UAAA,IAAI,EAAE,EAFR;AAGE,UAAA,KAAK,EAAE;AAAEC,YAAAA,WAAW,EAAE;AAAf,WAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADU;AAAA;AAFL,KAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA/BJ,EA8CG,CAAAG,IAAI,QAAJ,YAAAA,IAAI,CAAEG,aAAN,CAAoBC,QAApB,CAA6B,aAA7B,MACC,oBAAC,SAAD,CAAW,MAAX;AACE,IAAA,IAAI,EAAC,aADP;AAEE,IAAA,SAAS,EAAE7B,gBAFb;AAGE,IAAA,OAAO,EAAE;AACP0B,MAAAA,KAAK,EAAE,aADA;AAEPC,MAAAA,UAAU,EAAE;AAAA,YAAGR,OAAH,SAAGA,OAAH;AAAA,YAAYE,IAAZ,SAAYA,IAAZ;AAAA,eACV,oBAAC,YAAD;AACE,UAAA,IAAI,EAAC,OADP;AAEE,UAAA,IAAI,EAAE,EAFR;AAGE,UAAA,KAAK,EAAE;AAAEC,YAAAA,WAAW,EAAE;AAAf,WAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADU;AAAA;AAFL,KAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA/CJ,CADF;AAiED,CArED","sourcesContent":["import React from \"react\";\nimport {\n  createDrawerNavigator,\n  DrawerContentScrollView,\n  DrawerItemList,\n  DrawerItem,\n} from \"@react-navigation/drawer\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport Icon from \"react-native-vector-icons/Entypo\";\nimport MaterialIcon from \"react-native-vector-icons/MaterialCommunityIcons\";\nimport Toast from \"react-native-toast-message\";\n\nimport HomeStack from \"../stack/home\";\nimport ScannerStack from \"../stack/scanner\";\nimport HistoryStack from \"../stack/history\";\nimport MaintenanceStack from \"../stack/maintenance\";\n\nimport { setLoading, setUser } from \"../../redux/public/actions\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\nconst DrawerNav = createDrawerNavigator();\n\nconst CustomDrawerContent = (props) => {\n  const dispatch = useDispatch();\n  const navigation = useNavigation();\n\n  const logout = async () => {\n    dispatch(setLoading(true));\n    try {\n      await AsyncStorage.removeItem(\"@user\");\n      dispatch(setUser(null));\n      dispatch(setLoading(false));\n      Toast.show({\n        position: \"bottom\",\n        text1: \"Successfully logout.\",\n      });\n      navigation.navigate(\"Auth\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <DrawerContentScrollView {...props}>\n      <DrawerItemList {...props} />\n      <DrawerItem\n        label=\"Log Out\"\n        onPress={logout}\n        icon={({ focused, color, size = 25 }) => (\n          <MaterialIcon name=\"logout\" size={25} style={{ paddingLeft: 20 }} />\n        )}\n      />\n    </DrawerContentScrollView>\n  );\n};\n\nexport default ({ navigation }) => {\n  const { user } = useSelector((state) => state.public);\n  console.log(user);\n\n  return (\n    <DrawerNav.Navigator\n      initialRouteName=\"Home\"\n      drawerContent={(props) => <CustomDrawerContent {...props} />}\n    >\n      <DrawerNav.Screen\n        name=\"Home\"\n        component={HomeStack}\n        options={{\n          title: \"Home\",\n          drawerIcon: ({ focused, size }) => (\n            <Icon name=\"home\" size={25} style={{ paddingLeft: 20 }}></Icon>\n          ),\n        }}\n      />\n      {user?.accessModules.includes(\"SECURITY\") && (\n        <DrawerNav.Screen\n          name=\"Scanner\"\n          component={ScannerStack}\n          options={{\n            title: \"Scanner\",\n            drawerIcon: ({ focused, size }) => (\n              <MaterialIcon\n                name=\"magnify-scan\"\n                size={25}\n                style={{ paddingLeft: 20 }}\n              ></MaterialIcon>\n            ),\n          }}\n        />\n      )}\n      {user?.accessModules.includes(\"SECURITY\") && (\n        <DrawerNav.Screen\n          name=\"History\"\n          component={HistoryStack}\n          options={{\n            title: \"History\",\n            drawerIcon: ({ focused, size }) => (\n              <MaterialIcon\n                name=\"history\"\n                size={25}\n                style={{ paddingLeft: 20 }}\n              ></MaterialIcon>\n            ),\n          }}\n        />\n      )}\n      {user?.accessModules.includes(\"MAINTENANCE\") && (\n        <DrawerNav.Screen\n          name=\"Maintenance\"\n          component={MaintenanceStack}\n          options={{\n            title: \"Maintenance\",\n            drawerIcon: ({ focused, size }) => (\n              <MaterialIcon\n                name=\"tools\"\n                size={25}\n                style={{ paddingLeft: 20 }}\n              ></MaterialIcon>\n            ),\n          }}\n        />\n      )}\n    </DrawerNav.Navigator>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}