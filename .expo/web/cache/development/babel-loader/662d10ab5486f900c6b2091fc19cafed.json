{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/alvinneri/Desktop/Projects/PMS Mobile/property-management-mobile/employee-app/screens/propertymanager/reports/TicketDetails.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { FC, useEffect, useState } from \"react\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp } from \"react-native-responsive-screen\";\nimport Toast from \"react-native-toast-message\";\nimport { setLoading, setUser } from \"../../../redux/public/actions\";\nimport { db } from \"../../../firebase/config\";\nimport moment from \"moment\";\nimport { Button, useTheme } from \"react-native-paper\";\nimport { CarouselComponent } from \"../../../components/carousel\";\nimport { theme } from \"../../../theme\";\nimport RNPickerSelect, { defaultStyles } from \"react-native-picker-select\";\nexport default function ReportsDetailsScreen(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n  var ticket = route.params.ticket;\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return state.public;\n  }),\n      user = _useSelector.user;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      tickets = _useState2[0],\n      setTickets = _useState2[1];\n\n  var _useTheme = useTheme(),\n      colors = _useTheme.colors;\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      modalVisible = _useState4[0],\n      setModalVisible = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      image = _useState6[0],\n      setImage = _useState6[1];\n\n  var reportsRef = db.collection(\"maintenance\");\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      priorityLevel = _useState8[0],\n      setPriorityLevel = _useState8[1];\n\n  var pickerSelectStyles = StyleSheet.create({\n    inputIOS: {\n      fontSize: 16,\n      paddingVertical: 12,\n      paddingHorizontal: 10,\n      borderWidth: 1,\n      borderColor: \"gray\",\n      borderRadius: 4,\n      color: \"black\",\n      paddingRight: 30,\n      backgroundColor: theme.colors.primary\n    },\n    inputAndroid: {\n      fontSize: 16,\n      paddingHorizontal: 10,\n      paddingVertical: 8,\n      borderWidth: 0.5,\n      borderColor: \"purple\",\n      borderRadius: 8,\n      color: \"black\",\n      paddingRight: 30\n    }\n  });\n  var priorityLevelOptions = [{\n    value: 1,\n    label: \"1\"\n  }, {\n    value: 2,\n    label: \"2\"\n  }, {\n    value: 3,\n    label: \"3\"\n  }, {\n    value: 4,\n    label: \"4\"\n  }, {\n    value: 5,\n    label: \"5\"\n  }];\n\n  var getTickets = function getTickets() {\n    var maintenanceRef, unsubscribed;\n    return _regeneratorRuntime.async(function getTickets$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(user, \"user\");\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(db.collection(\"maintenance\").orderBy(\"date\", \"desc\").where(\"condoId\", \"==\", user.invitedBy.trim()));\n\n          case 3:\n            maintenanceRef = _context.sent;\n            unsubscribed = maintenanceRef.onSnapshot(function (querySnapshot) {\n              var _tickets = [];\n              querySnapshot.forEach(function (doc) {\n                var _ticket = _objectSpread(_objectSpread({}, doc.data()), {}, {\n                  id: doc.id\n                });\n\n                _tickets.push(_ticket);\n              });\n              setTickets(_tickets);\n            });\n            return _context.abrupt(\"return\", unsubscribed);\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var changeStatusApprove = function changeStatusApprove(id) {\n    reportsRef.doc(id).update({\n      status: \"APPROVED\"\n    });\n  };\n\n  var changeStatusReject = function changeStatusReject(id) {\n    reportsRef.doc(id).update({\n      status: \"REJECT\"\n    });\n  };\n\n  useEffect(function () {\n    getTickets();\n  }, []);\n\n  var updateTicket = function updateTicket() {\n    reportsRef.doc(ticket.id).update({\n      priorityLevel: priorityLevel\n    });\n    Toast.show({\n      position: \"bottom\",\n      text1: \"Priority Level Updated.\"\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: [styles.btnOptions],\n    onPress: function onPress() {\n      navigation.goBack();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"#ffffff\",\n      fontSize: wp(\"4%\")\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }, \"BACK\")), React.createElement(ScrollView, {\n    contentContainerStyle: styles.scrollContainer,\n    showsHorizontalScrollIndicator: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: styles.card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }, \"Asset Code:\", \" \", ticket != null && ticket.asset.assetCode ? ticket == null ? void 0 : ticket.asset.assetCode : \"N/A\"), React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 15\n    }\n  }, \"Description: \", ticket == null ? void 0 : ticket.description), React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  }, \"Reporter Name: \", ticket == null ? void 0 : ticket.reporterName), React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 15\n    }\n  }, \"Date Reported:\", moment(ticket == null ? void 0 : ticket.date.toDate()).format(\"MMM DD YYYY h:mm A\")), React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 15\n    }\n  }, \"Date Approved:\", ticket != null && ticket.dateApproved ? moment(ticket == null ? void 0 : ticket.date.toDate()).format(\"MMM DD YYYY h:mm A\") : \"None\"), React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 15\n    }\n  }, \"Date Assigned:\", ticket != null && ticket.dateAssigned ? moment(ticket == null ? void 0 : ticket.dateAssigned.toDate()).format(\"MMM-DD-YYYY h:mm A\") : \"None\"), React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 15\n    }\n  }, \"Assignee Name:\", \" \", ticket != null && ticket.assignee ? ticket == null ? void 0 : ticket.assignee.name : \"None\"), React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 15\n    }\n  }, \"Assignee Remarks: \", ticket != null && ticket.remarks ? ticket == null ? void 0 : ticket.remarks : \"None\"), React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 15\n    }\n  }, \"After Fix Photo:\"), ticket != null && ticket.imageSubmitted ? React.createElement(Image, {\n    source: {\n      uri: ticket != null && ticket.imageSubmitted ? ticket == null ? void 0 : ticket.imageSubmitted : null\n    },\n    style: {\n      height: hp(\"30%\"),\n      width: wp(\"80%\")\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 17\n    }\n  }) : React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 17\n    }\n  }, \"None\"), React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 15\n    }\n  }, \"Status: \", ticket == null ? void 0 : ticket.status), ticket.status === \"OPEN\" ? React.createElement(View, {\n    style: styles.options,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 17\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: [styles.btnOptions, {\n      backgroundColor: \"green\"\n    }],\n    onPress: function onPress() {\n      changeStatusApprove(ticket.id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 19\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"#ffffff\",\n      fontSize: wp(\"4%\")\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 21\n    }\n  }, \"APPROVE\")), React.createElement(TouchableOpacity, {\n    style: [styles.btnOptions, {\n      backgroundColor: \"red\"\n    }],\n    onPress: function onPress() {\n      changeStatusReject(item.id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 19\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"#ffffff\",\n      fontSize: wp(\"4%\")\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 21\n    }\n  }, \"REJECT\"))) : null, React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 15\n    }\n  }, \"Priority Level:\", \" \", ticket != null && ticket.priorityLevel ? ticket == null ? void 0 : ticket.priorityLevel : \"Not Set\"), React.createElement(RNPickerSelect, {\n    placeholder: {\n      label: \"Select Priority Level\",\n      color: \"#ffffff\"\n    },\n    items: priorityLevelOptions,\n    onValueChange: function onValueChange(value) {\n      setPriorityLevel(value);\n    },\n    style: pickerSelectStyles,\n    value: priorityLevel,\n    useNativeAndroidPickerStyle: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 15\n    }\n  }), React.createElement(Button, {\n    onPress: function onPress() {\n      updateTicket();\n    },\n    style: {\n      backgroundColor: theme.colors.accent,\n      marginVertical: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: wp(\"4%\")\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 17\n    }\n  }, \"UPDATE\"))), React.createElement(TouchableOpacity, {\n    style: {\n      backgroundColor: colors.primary,\n      position: \"absolute\",\n      top: 15,\n      right: 20,\n      padding: 7,\n      borderRadius: 3\n    },\n    onPress: function onPress() {\n      setImage(ticket == null ? void 0 : ticket.image);\n      setModalVisible(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"#ffffff\",\n      fontSize: wp(\"3%\")\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 15\n    }\n  }, \"View Image\"))))), React.createElement(Modal, {\n    animationType: \"slide\",\n    transparent: true,\n    visible: modalVisible,\n    onRequestClose: function onRequestClose() {\n      setModalVisible(!modalVisible);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.centeredView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.modalView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 11\n    }\n  }, React.createElement(CarouselComponent, {\n    photos: image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 13\n    }\n  }), React.createElement(Pressable, {\n    style: [styles.btn, styles.buttonClose],\n    onPress: function onPress() {\n      return setModalVisible(!modalVisible);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.textStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 15\n    }\n  }, \"Close\"))))));\n}\nvar width = Dimensions.get(\"window\").width;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    width: width,\n    backgroundColor: theme.colors.primary\n  },\n  name: {\n    fontSize: 20,\n    padding: 20,\n    color: theme.colors.light\n  },\n  scrollContainer: {\n    width: width,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    alignSelf: \"center\"\n  },\n  card: {\n    width: wp(\"90%\"),\n    alignSelf: \"stretch\",\n    textAlign: \"center\",\n    padding: 20,\n    backgroundColor: \"#ebebeb\",\n    marginTop: 10,\n    justifyContent: \"center\",\n    backgroundColor: theme.colors.light,\n    borderRadius: 20\n  },\n  btnOptions: {\n    marginBottom: 5,\n    padding: 10,\n    textAlign: \"center\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: wp(\"30%\")\n  },\n  options: {\n    marginVertical: 10,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\"\n  },\n  btn: {\n    marginBottom: 10,\n    padding: 15,\n    textAlign: \"center\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: wp(\"90%\")\n  },\n  text: {\n    fontSize: wp(\"4%\"),\n    marginVertical: 5\n  },\n  image: {\n    width: wp(\"90%\"),\n    height: hp(\"50%\")\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 25\n  },\n  modalView: {\n    height: 500,\n    margin: 20,\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    padding: 35,\n    alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5\n  },\n  button: {\n    borderRadius: 20,\n    padding: 10,\n    elevation: 2\n  },\n  buttonOpen: {\n    backgroundColor: \"#F194FF\"\n  },\n  buttonClose: {\n    backgroundColor: \"#2196F3\"\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\"\n  }\n});","map":{"version":3,"sources":["/Users/alvinneri/Desktop/Projects/PMS Mobile/property-management-mobile/employee-app/screens/propertymanager/reports/TicketDetails.js"],"names":["React","FC","useEffect","useState","useSelector","useDispatch","widthPercentageToDP","wp","heightPercentageToDP","hp","Toast","setLoading","setUser","db","moment","Button","useTheme","CarouselComponent","theme","RNPickerSelect","defaultStyles","ReportsDetailsScreen","navigation","route","ticket","params","dispatch","state","public","user","tickets","setTickets","colors","modalVisible","setModalVisible","image","setImage","reportsRef","collection","priorityLevel","setPriorityLevel","pickerSelectStyles","StyleSheet","create","inputIOS","fontSize","paddingVertical","paddingHorizontal","borderWidth","borderColor","borderRadius","color","paddingRight","backgroundColor","primary","inputAndroid","priorityLevelOptions","value","label","getTickets","console","log","orderBy","where","invitedBy","trim","maintenanceRef","unsubscribed","onSnapshot","querySnapshot","_tickets","forEach","doc","_ticket","data","id","push","changeStatusApprove","update","status","changeStatusReject","updateTicket","show","position","text1","styles","container","btnOptions","goBack","scrollContainer","card","text","asset","assetCode","description","reporterName","date","toDate","format","dateApproved","dateAssigned","assignee","name","remarks","imageSubmitted","uri","height","width","options","item","accent","marginVertical","top","right","padding","centeredView","modalView","btn","buttonClose","textStyle","Dimensions","get","flex","light","alignItems","justifyContent","alignSelf","textAlign","marginTop","marginBottom","flexDirection","margin","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","button","buttonOpen","fontWeight","modalText"],"mappings":"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","sourcesContent":["import React, { FC, useEffect, useState } from \"react\";\nimport {\n  Platform,\n  StyleSheet,\n  Text,\n  View,\n  ScrollView,\n  Dimensions,\n  Modal,\n  Pressable,\n  TouchableOpacity,\n  Image,\n} from \"react-native\";\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  widthPercentageToDP as wp,\n  heightPercentageToDP as hp,\n} from \"react-native-responsive-screen\";\nimport Toast from \"react-native-toast-message\";\nimport { setLoading, setUser } from \"../../../redux/public/actions\";\nimport { db } from \"../../../firebase/config\";\nimport moment from \"moment\";\nimport { Button, useTheme } from \"react-native-paper\";\nimport { CarouselComponent } from \"../../../components/carousel\";\nimport { theme } from \"../../../theme\";\nimport RNPickerSelect, { defaultStyles } from \"react-native-picker-select\";\n\nexport default function ReportsDetailsScreen({ navigation, route }) {\n  const { ticket } = route.params;\n  const dispatch = useDispatch();\n  const { user } = useSelector((state) => state.public);\n  const [tickets, setTickets] = useState([]);\n  const { colors } = useTheme();\n  const [modalVisible, setModalVisible] = useState(false);\n  const [image, setImage] = useState(\"\");\n  const reportsRef = db.collection(\"maintenance\");\n  const [priorityLevel, setPriorityLevel] = useState(null);\n\n  const pickerSelectStyles = StyleSheet.create({\n    inputIOS: {\n      fontSize: 16,\n      paddingVertical: 12,\n      paddingHorizontal: 10,\n      borderWidth: 1,\n      borderColor: \"gray\",\n      borderRadius: 4,\n      color: \"black\",\n      paddingRight: 30, // to ensure the text is never behind the icon\n      backgroundColor: theme.colors.primary,\n    },\n    inputAndroid: {\n      fontSize: 16,\n      paddingHorizontal: 10,\n      paddingVertical: 8,\n      borderWidth: 0.5,\n      borderColor: \"purple\",\n      borderRadius: 8,\n      color: \"black\",\n      paddingRight: 30, // to ensure the text is never behind the icon\n    },\n  });\n\n  const priorityLevelOptions = [\n    {\n      value: 1,\n      label: \"1\",\n    },\n    {\n      value: 2,\n      label: \"2\",\n    },\n    {\n      value: 3,\n      label: \"3\",\n    },\n    {\n      value: 4,\n      label: \"4\",\n    },\n    {\n      value: 5,\n      label: \"5\",\n    },\n  ];\n\n  const getTickets = async () => {\n    console.log(user, \"user\");\n    const maintenanceRef = await db\n      .collection(\"maintenance\")\n      .orderBy(\"date\", \"desc\")\n      .where(\"condoId\", \"==\", user.invitedBy.trim());\n\n    const unsubscribed = maintenanceRef.onSnapshot((querySnapshot) => {\n      let _tickets = [];\n      querySnapshot.forEach((doc) => {\n        let _ticket = {\n          ...doc.data(),\n          id: doc.id,\n        };\n        _tickets.push(_ticket);\n      });\n      setTickets(_tickets);\n    });\n    return unsubscribed;\n  };\n\n  const changeStatusApprove = (id) => {\n    reportsRef.doc(id).update({\n      status: `APPROVED`,\n    });\n  };\n\n  const changeStatusReject = (id) => {\n    reportsRef.doc(id).update({\n      status: `REJECT`,\n    });\n  };\n\n  useEffect(() => {\n    getTickets();\n  }, []);\n\n  const updateTicket = () => {\n    reportsRef.doc(ticket.id).update({\n      priorityLevel: priorityLevel,\n    });\n    Toast.show({\n      position: \"bottom\",\n      text1: \"Priority Level Updated.\",\n    });\n  };\n\n  return (\n    <>\n      <View style={styles.container}>\n        <TouchableOpacity\n          style={[styles.btnOptions]}\n          onPress={() => {\n            navigation.goBack();\n          }}\n        >\n          <Text style={{ color: \"#ffffff\", fontSize: wp(\"4%\") }}>BACK</Text>\n        </TouchableOpacity>\n\n        <ScrollView\n          contentContainerStyle={styles.scrollContainer}\n          showsHorizontalScrollIndicator={false}\n        >\n          <View>\n            <View style={styles.card}>\n              <Text style={styles.text}>\n                Asset Code:{\" \"}\n                {ticket?.asset.assetCode ? ticket?.asset.assetCode : \"N/A\"}\n              </Text>\n              <Text style={styles.text}>\n                Description: {ticket?.description}\n              </Text>\n              <Text style={styles.text}>\n                Reporter Name: {ticket?.reporterName}\n              </Text>\n              <Text style={styles.text}>\n                Date Reported:\n                {moment(ticket?.date.toDate()).format(\"MMM DD YYYY h:mm A\")}\n              </Text>\n              <Text style={styles.text}>\n                Date Approved:\n                {ticket?.dateApproved\n                  ? moment(ticket?.date.toDate()).format(\"MMM DD YYYY h:mm A\")\n                  : \"None\"}\n              </Text>\n              <Text style={styles.text}>\n                Date Assigned:\n                {ticket?.dateAssigned\n                  ? moment(ticket?.dateAssigned.toDate()).format(\n                      \"MMM-DD-YYYY h:mm A\"\n                    )\n                  : \"None\"}\n              </Text>\n              <Text style={styles.text}>\n                Assignee Name:{\" \"}\n                {ticket?.assignee ? ticket?.assignee.name : \"None\"}\n              </Text>\n              <Text style={styles.text}>\n                Assignee Remarks: {ticket?.remarks ? ticket?.remarks : \"None\"}\n              </Text>\n              <Text style={styles.text}>After Fix Photo:</Text>\n              {ticket?.imageSubmitted ? (\n                <Image\n                  source={{\n                    uri: ticket?.imageSubmitted ? ticket?.imageSubmitted : null,\n                  }}\n                  style={{ height: hp(\"30%\"), width: wp(\"80%\") }}\n                />\n              ) : (\n                <Text style={styles.text}>None</Text>\n              )}\n\n              <Text style={styles.text}>Status: {ticket?.status}</Text>\n              {ticket.status === \"OPEN\" ? (\n                <View style={styles.options}>\n                  <TouchableOpacity\n                    style={[styles.btnOptions, { backgroundColor: \"green\" }]}\n                    onPress={() => {\n                      changeStatusApprove(ticket.id);\n                    }}\n                  >\n                    <Text style={{ color: \"#ffffff\", fontSize: wp(\"4%\") }}>\n                      APPROVE\n                    </Text>\n                  </TouchableOpacity>\n                  <TouchableOpacity\n                    style={[styles.btnOptions, { backgroundColor: \"red\" }]}\n                    onPress={() => {\n                      changeStatusReject(item.id);\n                    }}\n                  >\n                    <Text style={{ color: \"#ffffff\", fontSize: wp(\"4%\") }}>\n                      REJECT\n                    </Text>\n                  </TouchableOpacity>\n                </View>\n              ) : null}\n              <Text style={styles.text}>\n                Priority Level:{\" \"}\n                {ticket?.priorityLevel ? ticket?.priorityLevel : \"Not Set\"}\n              </Text>\n              <RNPickerSelect\n                placeholder={{\n                  label: \"Select Priority Level\",\n                  color: \"#ffffff\",\n                }}\n                items={priorityLevelOptions}\n                onValueChange={(value) => {\n                  setPriorityLevel(value);\n                }}\n                style={pickerSelectStyles}\n                value={priorityLevel}\n                useNativeAndroidPickerStyle={false}\n              />\n              <Button\n                onPress={() => {\n                  updateTicket();\n                }}\n                style={{\n                  backgroundColor: theme.colors.accent,\n                  marginVertical: 10,\n                }}\n              >\n                <Text style={{ fontSize: wp(\"4%\") }}>UPDATE</Text>\n              </Button>\n            </View>\n\n            <TouchableOpacity\n              style={{\n                backgroundColor: colors.primary,\n                position: \"absolute\",\n                top: 15,\n                right: 20,\n                padding: 7,\n                borderRadius: 3,\n              }}\n              onPress={() => {\n                setImage(ticket?.image);\n                setModalVisible(true);\n              }}\n            >\n              <Text style={{ color: \"#ffffff\", fontSize: wp(\"3%\") }}>\n                View Image\n              </Text>\n            </TouchableOpacity>\n          </View>\n        </ScrollView>\n      </View>\n      <Modal\n        animationType=\"slide\"\n        transparent={true}\n        visible={modalVisible}\n        onRequestClose={() => {\n          setModalVisible(!modalVisible);\n        }}\n      >\n        <View style={styles.centeredView}>\n          <View style={styles.modalView}>\n            <CarouselComponent photos={image} />\n            <Pressable\n              style={[styles.btn, styles.buttonClose]}\n              onPress={() => setModalVisible(!modalVisible)}\n            >\n              <Text style={styles.textStyle}>Close</Text>\n            </Pressable>\n          </View>\n        </View>\n      </Modal>\n    </>\n  );\n}\n\nconst width = Dimensions.get(\"window\").width;\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    width: width,\n    backgroundColor: theme.colors.primary,\n  },\n  name: {\n    fontSize: 20,\n    padding: 20,\n    color: theme.colors.light,\n  },\n  scrollContainer: {\n    width: width,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    alignSelf: \"center\",\n  },\n  card: {\n    width: wp(\"90%\"),\n    alignSelf: \"stretch\",\n    textAlign: \"center\",\n    padding: 20,\n    backgroundColor: \"#ebebeb\",\n    marginTop: 10,\n    justifyContent: \"center\",\n    backgroundColor: theme.colors.light,\n    borderRadius: 20,\n  },\n  btnOptions: {\n    marginBottom: 5,\n    padding: 10,\n    textAlign: \"center\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: wp(\"30%\"),\n  },\n  options: {\n    marginVertical: 10,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n  },\n  btn: {\n    marginBottom: 10,\n    padding: 15,\n    textAlign: \"center\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: wp(\"90%\"),\n  },\n  text: {\n    fontSize: wp(\"4%\"),\n    marginVertical: 5,\n  },\n  image: {\n    width: wp(\"90%\"),\n    height: hp(\"50%\"),\n  },\n\n  // Modal\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 25,\n  },\n  modalView: {\n    height: 500,\n    margin: 20,\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    padding: 35,\n    alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5,\n  },\n  button: {\n    borderRadius: 20,\n    padding: 10,\n    elevation: 2,\n  },\n  buttonOpen: {\n    backgroundColor: \"#F194FF\",\n  },\n  buttonClose: {\n    backgroundColor: \"#2196F3\",\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\",\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}