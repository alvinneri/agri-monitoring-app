{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _jsxFileName = \"/Users/alvinneri/Desktop/Projects/PMS Mobile/property-management-mobile/employee-app/node_modules/react-native-image-progress/index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nvar styles = StyleSheet.create({\n  centered: _objectSpread(_objectSpread({}, StyleSheet.absoluteFillObject), {}, {\n    alignItems: 'center',\n    justifyContent: 'center'\n  })\n});\nvar DefaultIndicator = ActivityIndicator;\n\nvar getSourceKey = function getSourceKey(source) {\n  return source && source.uri || String(source);\n};\n\nexport var createImageProgress = function createImageProgress(ImageComponent) {\n  var _class, _temp;\n\n  return _temp = _class = function (_Component) {\n    _inherits(ImageProgress, _Component);\n\n    var _super = _createSuper(ImageProgress);\n\n    function ImageProgress(props) {\n      var _this;\n\n      _classCallCheck(this, ImageProgress);\n\n      _this = _super.call(this, props);\n      _this.ref = null;\n\n      _this.handleRef = function (ref) {\n        _this.ref = ref;\n      };\n\n      _this.handleLoadStart = function () {\n        if (!_this.state.loading && _this.state.progress !== 1) {\n          _this.setState({\n            error: null,\n            loading: true,\n            progress: 0\n          });\n        }\n\n        _this.bubbleEvent('onLoadStart');\n      };\n\n      _this.handleProgress = function (event) {\n        var progress = event.nativeEvent.loaded / event.nativeEvent.total;\n\n        if (progress !== _this.state.progress && _this.state.progress !== 1) {\n          _this.setState({\n            loading: progress < 1,\n            progress: progress\n          });\n        }\n\n        _this.bubbleEvent('onProgress', event);\n      };\n\n      _this.handleError = function (event) {\n        _this.setState({\n          loading: false,\n          error: event.nativeEvent\n        });\n\n        _this.bubbleEvent('onError', event);\n      };\n\n      _this.handleLoad = function (event) {\n        if (_this.state.progress !== 1) {\n          _this.setState({\n            error: null,\n            loading: false,\n            progress: 1\n          });\n        }\n\n        _this.bubbleEvent('onLoad', event);\n      };\n\n      _this.handleLoadEnd = function (event) {\n        _this.setState({\n          loading: false,\n          progress: 1\n        });\n\n        _this.bubbleEvent('onLoadEnd', event);\n      };\n\n      _this.state = {\n        sourceKey: getSourceKey(props.source),\n        error: null,\n        loading: false,\n        progress: 0,\n        thresholdReached: !props.threshold\n      };\n      return _this;\n    }\n\n    _createClass(ImageProgress, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        if (this.props.threshold) {\n          this.thresholdTimer = setTimeout(function () {\n            _this2.setState({\n              thresholdReached: true\n            });\n\n            _this2.thresholdTimer = null;\n          }, this.props.threshold);\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        if (this.thresholdTimer) {\n          clearTimeout(this.thresholdTimer);\n        }\n      }\n    }, {\n      key: \"setNativeProps\",\n      value: function setNativeProps(nativeProps) {\n        if (this.ref) {\n          this.ref.setNativeProps(nativeProps);\n        }\n      }\n    }, {\n      key: \"measure\",\n      value: function measure(cb) {\n        if (this.ref) {\n          this.ref.measure(cb);\n        }\n      }\n    }, {\n      key: \"bubbleEvent\",\n      value: function bubbleEvent(propertyName, event) {\n        if (typeof this.props[propertyName] === 'function') {\n          this.props[propertyName](event);\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props = this.props,\n            children = _this$props.children,\n            errorContainerStyle = _this$props.errorContainerStyle,\n            indicator = _this$props.indicator,\n            indicatorContainerStyle = _this$props.indicatorContainerStyle,\n            indicatorProps = _this$props.indicatorProps,\n            renderError = _this$props.renderError,\n            renderIndicator = _this$props.renderIndicator,\n            source = _this$props.source,\n            style = _this$props.style,\n            threshold = _this$props.threshold,\n            imageStyle = _this$props.imageStyle,\n            props = _objectWithoutProperties(_this$props, [\"children\", \"errorContainerStyle\", \"indicator\", \"indicatorContainerStyle\", \"indicatorProps\", \"renderError\", \"renderIndicator\", \"source\", \"style\", \"threshold\", \"imageStyle\"]);\n\n        if (!source || !source.uri) {\n          return React.createElement(View, {\n            style: style,\n            ref: this.handleRef,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 11\n            }\n          }, React.createElement(ImageComponent, _extends({}, props, {\n            source: source,\n            style: [StyleSheet.absoluteFill, imageStyle],\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 13\n            }\n          })), children);\n        }\n\n        var _this$state = this.state,\n            progress = _this$state.progress,\n            sourceKey = _this$state.sourceKey,\n            thresholdReached = _this$state.thresholdReached,\n            loading = _this$state.loading,\n            error = _this$state.error;\n        var indicatorElement;\n\n        if (error) {\n          if (renderError) {\n            indicatorElement = React.createElement(View, {\n              style: errorContainerStyle,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 13\n              }\n            }, renderError(error));\n          }\n        } else if ((loading || progress < 1) && thresholdReached) {\n          if (renderIndicator) {\n            indicatorElement = renderIndicator(progress, !loading || !progress);\n          } else {\n            var IndicatorComponent = typeof indicator === 'function' ? indicator : DefaultIndicator;\n            indicatorElement = React.createElement(IndicatorComponent, _extends({\n              progress: progress,\n              indeterminate: !loading || !progress\n            }, indicatorProps, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 13\n              }\n            }));\n          }\n\n          indicatorElement = React.createElement(View, {\n            style: indicatorContainerStyle,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 11\n            }\n          }, indicatorElement);\n        }\n\n        return React.createElement(View, {\n          style: style,\n          ref: this.handleRef,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 9\n          }\n        }, React.createElement(ImageComponent, _extends({}, props, {\n          key: sourceKey,\n          onLoadStart: this.handleLoadStart,\n          onProgress: this.handleProgress,\n          onError: this.handleError,\n          onLoad: this.handleLoad,\n          onLoadEnd: this.handleLoadEnd,\n          source: source,\n          style: [StyleSheet.absoluteFill, imageStyle],\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 11\n          }\n        })), indicatorElement, children);\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(props, state) {\n        var sourceKey = getSourceKey(props.source);\n\n        if (sourceKey !== state.sourceKey) {\n          return {\n            sourceKey: sourceKey,\n            error: null,\n            loading: false,\n            progress: 0\n          };\n        }\n\n        return null;\n      }\n    }]);\n\n    return ImageProgress;\n  }(Component), _class.propTypes = {\n    children: PropTypes.node,\n    errorContainerStyle: PropTypes.any,\n    indicator: PropTypes.func,\n    indicatorContainerStyle: PropTypes.any,\n    indicatorProps: PropTypes.object,\n    renderIndicator: PropTypes.func,\n    renderError: PropTypes.func,\n    source: PropTypes.any,\n    style: PropTypes.any,\n    imageStyle: PropTypes.object,\n    threshold: PropTypes.number\n  }, _class.defaultProps = {\n    indicatorContainerStyle: styles.centered,\n    errorContainerStyle: styles.centered,\n    threshold: 50\n  }, _class.prefetch = Image.prefetch, _class.getSize = Image.getSize, _temp;\n};\nexport default createImageProgress(Image);","map":{"version":3,"sources":["/Users/alvinneri/Desktop/Projects/PMS Mobile/property-management-mobile/employee-app/node_modules/react-native-image-progress/index.js"],"names":["React","Component","PropTypes","styles","StyleSheet","create","centered","absoluteFillObject","alignItems","justifyContent","DefaultIndicator","ActivityIndicator","getSourceKey","source","uri","String","createImageProgress","ImageComponent","props","ref","handleRef","handleLoadStart","state","loading","progress","setState","error","bubbleEvent","handleProgress","event","nativeEvent","loaded","total","handleError","handleLoad","handleLoadEnd","sourceKey","thresholdReached","threshold","thresholdTimer","setTimeout","clearTimeout","nativeProps","setNativeProps","cb","measure","propertyName","children","errorContainerStyle","indicator","indicatorContainerStyle","indicatorProps","renderError","renderIndicator","style","imageStyle","absoluteFill","indicatorElement","IndicatorComponent","propTypes","node","any","func","object","number","defaultProps","prefetch","Image","getSize"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { ActivityIndicator, Image, StyleSheet, View } from 'react-native';\n\nconst styles = StyleSheet.create({\n  centered: {\n    ...StyleSheet.absoluteFillObject,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n\nconst DefaultIndicator = ActivityIndicator;\n\nconst getSourceKey = source => (source && source.uri) || String(source);\n\nexport const createImageProgress = ImageComponent =>\n  class ImageProgress extends Component {\n    static propTypes = {\n      children: PropTypes.node,\n      errorContainerStyle: PropTypes.any,\n      indicator: PropTypes.func,\n      indicatorContainerStyle: PropTypes.any,\n      indicatorProps: PropTypes.object,\n      renderIndicator: PropTypes.func,\n      renderError: PropTypes.func,\n      source: PropTypes.any,\n      style: PropTypes.any,\n      imageStyle: PropTypes.object,\n      threshold: PropTypes.number,\n    };\n\n    static defaultProps = {\n      indicatorContainerStyle: styles.centered,\n      errorContainerStyle: styles.centered,\n      threshold: 50,\n    };\n\n    static prefetch = Image.prefetch;\n    static getSize = Image.getSize;\n\n    static getDerivedStateFromProps(props, state) {\n      const sourceKey = getSourceKey(props.source);\n      if (sourceKey !== state.sourceKey) {\n        return {\n          sourceKey,\n          error: null,\n          loading: false,\n          progress: 0,\n        };\n      }\n      return null;\n    }\n\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        sourceKey: getSourceKey(props.source),\n        error: null,\n        loading: false,\n        progress: 0,\n        thresholdReached: !props.threshold,\n      };\n    }\n\n    componentDidMount() {\n      if (this.props.threshold) {\n        this.thresholdTimer = setTimeout(() => {\n          this.setState({ thresholdReached: true });\n          this.thresholdTimer = null;\n        }, this.props.threshold);\n      }\n    }\n\n    componentWillUnmount() {\n      if (this.thresholdTimer) {\n        clearTimeout(this.thresholdTimer);\n      }\n    }\n\n    setNativeProps(nativeProps) {\n      if (this.ref) {\n        this.ref.setNativeProps(nativeProps);\n      }\n    }\n\n    measure(cb) {\n      if (this.ref) {\n        this.ref.measure(cb);\n      }\n    }\n\n    ref = null;\n    handleRef = ref => {\n      this.ref = ref;\n    };\n\n    bubbleEvent(propertyName, event) {\n      if (typeof this.props[propertyName] === 'function') {\n        this.props[propertyName](event);\n      }\n    }\n\n    handleLoadStart = () => {\n      if (!this.state.loading && this.state.progress !== 1) {\n        this.setState({\n          error: null,\n          loading: true,\n          progress: 0,\n        });\n      }\n      this.bubbleEvent('onLoadStart');\n    };\n\n    handleProgress = event => {\n      const progress = event.nativeEvent.loaded / event.nativeEvent.total;\n      // RN is a bit buggy with these events, sometimes a loaded event and then a few\n      // 100% progress – sometimes in an infinite loop. So we just assume 100% progress\n      // actually means the image is no longer loading\n      if (progress !== this.state.progress && this.state.progress !== 1) {\n        this.setState({\n          loading: progress < 1,\n          progress,\n        });\n      }\n      this.bubbleEvent('onProgress', event);\n    };\n\n    handleError = event => {\n      this.setState({\n        loading: false,\n        error: event.nativeEvent,\n      });\n      this.bubbleEvent('onError', event);\n    };\n\n    handleLoad = event => {\n      if (this.state.progress !== 1) {\n        this.setState({\n          error: null,\n          loading: false,\n          progress: 1,\n        });\n      }\n      this.bubbleEvent('onLoad', event);\n    };\n\n    handleLoadEnd = event => {\n      this.setState({\n        loading: false,\n        progress: 1,\n      });\n      this.bubbleEvent('onLoadEnd', event);\n    };\n\n    render() {\n      const {\n        children,\n        errorContainerStyle,\n        indicator,\n        indicatorContainerStyle,\n        indicatorProps,\n        renderError,\n        renderIndicator,\n        source,\n        style,\n        threshold,\n        imageStyle,\n        ...props\n      } = this.props;\n\n      if (!source || !source.uri) {\n        // This is not a networked asset so fallback to regular image\n        return (\n          <View style={style} ref={this.handleRef}>\n            <ImageComponent\n              {...props}\n              source={source}\n              style={[StyleSheet.absoluteFill, imageStyle]}\n            />\n            {children}\n          </View>\n        );\n      }\n      const {\n        progress,\n        sourceKey,\n        thresholdReached,\n        loading,\n        error,\n      } = this.state;\n\n      let indicatorElement;\n\n      if (error) {\n        if (renderError) {\n          indicatorElement = (\n            <View style={errorContainerStyle}>{renderError(error)}</View>\n          );\n        }\n      } else if ((loading || progress < 1) && thresholdReached) {\n        if (renderIndicator) {\n          indicatorElement = renderIndicator(progress, !loading || !progress);\n        } else {\n          const IndicatorComponent =\n            typeof indicator === 'function' ? indicator : DefaultIndicator;\n          indicatorElement = (\n            <IndicatorComponent\n              progress={progress}\n              indeterminate={!loading || !progress}\n              {...indicatorProps}\n            />\n          );\n        }\n        indicatorElement = (\n          <View style={indicatorContainerStyle}>{indicatorElement}</View>\n        );\n      }\n\n      return (\n        <View style={style} ref={this.handleRef}>\n          <ImageComponent\n            {...props}\n            key={sourceKey}\n            onLoadStart={this.handleLoadStart}\n            onProgress={this.handleProgress}\n            onError={this.handleError}\n            onLoad={this.handleLoad}\n            onLoadEnd={this.handleLoadEnd}\n            source={source}\n            style={[StyleSheet.absoluteFill, imageStyle]}\n          />\n          {indicatorElement}\n          {children}\n        </View>\n      );\n    }\n  };\n\nexport default createImageProgress(Image);\n"]},"metadata":{},"sourceType":"module"}